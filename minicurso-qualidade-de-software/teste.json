{"swagger": "2.0", "info": {"title": "Biblioteca API", "description": "Esta API Django é um sistema abrangente para gerenciar empréstimos de itens, com foco inicial em livros. Ele modela entidades como Autor, Livro, Editora e Empréstimo, controlando o ciclo de vida dos itens desde a aquisição até a devolução. Além disso, a API oferece funcionalidades de gerenciamento de usuários (admins e alunos) e um conjunto de endpoints para operações CRUD em todas as entidades principais. O sistema também incorpora regras de negócio para renovações e devoluções, incluindo validações para garantir a consistência dos dados e a disponibilidade dos itens.", "version": "v0.1"}, "host": "127.0.0.1:8000", "schemes": ["http"], "basePath": "/api", "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Bearer": {"type": "apiKey", "name": "Authorization", "in": "header", "description": "Insira: Bearer <seu_token_de_acesso>"}}, "security": [{"Bearer": []}], "paths": {"/aluno/": {"get": {"operationId": "aluno_list", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Aluno"}}}}, "tags": ["aluno"]}, "post": {"operationId": "aluno_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Aluno"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Aluno"}}}, "tags": ["aluno"]}, "parameters": []}, "/aluno/{id}/": {"get": {"operationId": "aluno_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Aluno"}}}, "tags": ["aluno"]}, "put": {"operationId": "aluno_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Aluno"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Aluno"}}}, "tags": ["aluno"]}, "patch": {"operationId": "aluno_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Aluno"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Aluno"}}}, "tags": ["aluno"]}, "delete": {"operationId": "aluno_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["aluno"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this aluno.", "required": true, "type": "string", "format": "uuid"}]}, "/aluno/{id}/emprestimo/": {"get": {"operationId": "aluno_emprestimo", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Aluno"}}}, "tags": ["aluno"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this aluno.", "required": true, "type": "string", "format": "uuid"}]}, "/autor/": {"get": {"operationId": "autor_list", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/AutorSerializers"}}}}, "tags": ["autor"]}, "post": {"operationId": "autor_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/AutorSerializers"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/AutorSerializers"}}}, "tags": ["autor"]}, "parameters": []}, "/autor/{id}/": {"get": {"operationId": "autor_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/AutorSerializers"}}}, "tags": ["autor"]}, "put": {"operationId": "autor_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/AutorSerializers"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/AutorSerializers"}}}, "tags": ["autor"]}, "patch": {"operationId": "autor_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/AutorSerializers"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/AutorSerializers"}}}, "tags": ["autor"]}, "delete": {"operationId": "autor_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["autor"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this autor.", "required": true, "type": "string", "format": "uuid"}]}, "/autor/{id}/livro/": {"get": {"operationId": "autor_livro", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/AutorSerializers"}}}, "tags": ["autor"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this autor.", "required": true, "type": "string", "format": "uuid"}]}, "/editora/": {"get": {"operationId": "editora_list", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Editora"}}}}, "tags": ["editora"]}, "post": {"operationId": "editora_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Editora"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Editora"}}}, "tags": ["editora"]}, "parameters": []}, "/editora/{id}/": {"get": {"operationId": "editora_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Editora"}}}, "tags": ["editora"]}, "put": {"operationId": "editora_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Editora"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Editora"}}}, "tags": ["editora"]}, "patch": {"operationId": "editora_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Editora"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Editora"}}}, "tags": ["editora"]}, "delete": {"operationId": "editora_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["editora"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this editora.", "required": true, "type": "string", "format": "uuid"}]}, "/emprestimo/": {"get": {"operationId": "emprestimo_list", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/EmprestimoSerializers"}}}}, "tags": ["emprestimo"]}, "post": {"operationId": "emprestimo_create", "description": "Criação customizada de empréstimo:\nImpede criar empréstimo se o exemplar já estiver emprestado (ativo).", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}}, "tags": ["emprestimo"]}, "parameters": []}, "/emprestimo/{id}/": {"get": {"operationId": "emprestimo_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}}, "tags": ["emprestimo"]}, "put": {"operationId": "emprestimo_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}}, "tags": ["emprestimo"]}, "patch": {"operationId": "emprestimo_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}}, "tags": ["emprestimo"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this emprestimo.", "required": true, "type": "string", "format": "uuid"}]}, "/emprestimo/{id}/devolucao/": {"put": {"operationId": "emprestimo_devolucao", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}}, "tags": ["emprestimo"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this emprestimo.", "required": true, "type": "string", "format": "uuid"}]}, "/emprestimo/{id}/marcar_pago/": {"post": {"operationId": "emprestimo_marcar_pago", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}}, "tags": ["emprestimo"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this emprestimo.", "required": true, "type": "string", "format": "uuid"}]}, "/emprestimo/{id}/multa/": {"get": {"operationId": "emprestimo_multa", "description": "Retorna informações sobre multa do empréstimo.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}}, "tags": ["emprestimo"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this emprestimo.", "required": true, "type": "string", "format": "uuid"}]}, "/emprestimo/{id}/renovacao/": {"put": {"operationId": "emprestimo_renovacao", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/EmprestimoSerializers"}}}, "tags": ["emprestimo"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this emprestimo.", "required": true, "type": "string", "format": "uuid"}]}, "/exemplar/": {"get": {"operationId": "exemplar_list", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/ExemplarSerializers"}}}}, "tags": ["exemplar"]}, "post": {"operationId": "exemplar_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/ExemplarSerializers"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/ExemplarSerializers"}}}, "tags": ["exemplar"]}, "parameters": []}, "/exemplar/{id}/": {"get": {"operationId": "exemplar_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/ExemplarSerializers"}}}, "tags": ["exemplar"]}, "put": {"operationId": "exemplar_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/ExemplarSerializers"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/ExemplarSerializers"}}}, "tags": ["exemplar"]}, "patch": {"operationId": "exemplar_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/ExemplarSerializers"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/ExemplarSerializers"}}}, "tags": ["exemplar"]}, "delete": {"operationId": "exemplar_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["exemplar"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this exemplar.", "required": true, "type": "string", "format": "uuid"}]}, "/livro/": {"post": {"operationId": "livro_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Livro"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Livro"}}}, "tags": ["livro"]}, "parameters": []}, "/livro/disponiveis/": {"get": {"operationId": "livro_disponiveis", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Livro"}}}}, "tags": ["livro"]}, "parameters": []}, "/livro/{id}/": {"put": {"operationId": "livro_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Livro"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Livro"}}}, "tags": ["livro"]}, "patch": {"operationId": "livro_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Livro"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Livro"}}}, "tags": ["livro"]}, "delete": {"operationId": "livro_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["livro"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this livro.", "required": true, "type": "string", "format": "uuid"}]}, "/livro/{id}/exemplares/": {"get": {"operationId": "livro_exemplares", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Livro"}}}, "tags": ["livro"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this livro.", "required": true, "type": "string", "format": "uuid"}]}, "/livro/{id}/info/": {"get": {"operationId": "livro_info", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Livro"}}}, "tags": ["livro"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this livro.", "required": true, "type": "string", "format": "uuid"}]}, "/token/": {"post": {"operationId": "token_create", "description": "Takes a set of user credentials and returns an access and refresh JSON web\ntoken pair to prove the authentication of those credentials.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/TokenObtainPair"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/TokenObtainPair"}}}, "tags": ["token"]}, "parameters": []}, "/token/refresh/": {"post": {"operationId": "token_refresh_create", "description": "Takes a refresh type JSON web token and returns an access type JSON web\ntoken if the refresh token is valid.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/TokenRefresh"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/TokenRefresh"}}}, "tags": ["token"]}, "parameters": []}}, "definitions": {"Aluno": {"required": ["nome", "matricula"], "type": "object", "properties": {"id": {"title": "Id", "type": "string", "format": "uuid", "readOnly": true}, "nome": {"title": "Nome", "type": "string", "maxLength": 100, "minLength": 1}, "matricula": {"title": "Matricula", "type": "string", "maxLength": 20, "minLength": 1}, "multa_pendente": {"title": "Multa pendente", "type": "string", "format": "decimal"}}}, "AutorSerializers": {"required": ["nome", "biografia"], "type": "object", "properties": {"id": {"title": "Id", "type": "string", "format": "uuid", "readOnly": true}, "nome": {"title": "Nome", "type": "string", "maxLength": 100, "minLength": 1}, "data_nascimento": {"title": "Data nascimento", "type": "string", "format": "date", "x-nullable": true}, "biografia": {"title": "Biografia", "type": "string", "maxLength": 5000, "minLength": 1}}}, "Editora": {"required": ["nome", "cnpj"], "type": "object", "properties": {"id": {"title": "Id", "type": "string", "format": "uuid", "readOnly": true}, "cnpjFormatado": {"title": "Cnpjformatado", "type": "string", "readOnly": true}, "nome": {"title": "Nome", "type": "string", "maxLength": 100, "minLength": 1}, "cnpj": {"title": "Cnpj", "type": "string", "maxLength": 14, "minLength": 14}, "data_fundacao": {"title": "Data fundacao", "type": "string", "format": "date", "x-nullable": true}}}, "EmprestimoSerializers": {"required": ["exemplar"], "type": "object", "properties": {"id": {"title": "Id", "type": "string", "format": "uuid", "readOnly": true}, "aluno": {"$ref": "#/definitions/Aluno"}, "livro": {"title": "Livro", "type": "string", "readOnly": true}, "data_emprestimo": {"title": "Data emprestimo", "type": "string", "format": "date", "x-nullable": true}, "data_devolucao": {"title": "Data devolucao", "type": "string", "format": "date", "x-nullable": true}, "data_limite": {"title": "Data limite", "type": "string", "format": "date", "readOnly": true, "x-nullable": true}, "qtd_renovacoes": {"title": "Qtd renovacoes", "type": "integer", "maximum": 9223372036854775807, "minimum": 0}, "pago": {"title": "Pago", "type": "boolean"}, "exemplar": {"title": "Exemplar", "type": "string", "format": "uuid"}}}, "ExemplarSerializers": {"required": ["livro"], "type": "object", "properties": {"id": {"title": "Id", "type": "string", "format": "uuid", "readOnly": true}, "livro": {"title": "Livro", "type": "string", "format": "uuid"}}}, "Livro": {"required": ["titulo", "isbn"], "type": "object", "properties": {"id": {"title": "Id", "type": "string", "format": "uuid", "readOnly": true}, "autor": {"$ref": "#/definitions/AutorSerializers"}, "editora": {"$ref": "#/definitions/Editora"}, "titulo": {"title": "Titulo", "type": "string", "maxLength": 100, "minLength": 1}, "isbn": {"title": "Isbn", "type": "string", "maxLength": 13, "minLength": 1}}}, "TokenObtainPair": {"required": ["username", "password"], "type": "object", "properties": {"username": {"title": "Username", "type": "string", "minLength": 1}, "password": {"title": "Password", "type": "string", "minLength": 1}}}, "TokenRefresh": {"required": ["refresh"], "type": "object", "properties": {"refresh": {"title": "Refresh", "type": "string", "minLength": 1}, "access": {"title": "Access", "type": "string", "readOnly": true, "minLength": 1}}}}}